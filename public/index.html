<!DOCTYPE html>
<html>
    <head>
        <meta charset="utf-8" />
        <title>Output Management</title>
        <meta name="viewport" content="width=device-width, initial-scale=1" />
        <style>
            nav {
                text-align: right;
                margin: 20px 120px;
            }
            body {
                background: rgb(177, 213, 250);
            }
        </style>
        <link rel="icon" href="./favicon.ico" />
    </head>

    <body>
        <nav>
            <a href="/account/login" class="site-header__account">
                <span class="icon__fallback-text">Log in</span>
            </a>
        </nav>
        <script>
            (function () {
                function asyncLoad() {
                    var urls = ['./configs/script.js'];
                    for (var i = 0; i < urls.length; i++) {
                        var s = document.createElement('script');
                        s.type = 'text/javascript';
                        s.async = true;
                        s.src = urls[i];
                        var x = document.getElementsByTagName('script')[0];
                        x.parentNode.insertBefore(s, x);
                    }
                }
                if (window.attachEvent) {
                    window.attachEvent('onload', asyncLoad);
                } else {
                    window.addEventListener('load', asyncLoad, false);
                }

                globalThis.customize = (state, page = 'landing') => {
                    var _event = {
                        action: 'trigger',
                        target: 'setting:update',
                        params: {
                            value: 'fade-in-show',
                            setting_id: `${page}|--animation|`,
                            global_section_group_id: 'theme',
                            global_section_id: 'theme',
                        },
                    };
                    var detail = {};
                    var el = document.body.querySelector('login-popup').shadowRoot.querySelector('div');
                    detail.state = state;
                    detail.event = _event;
                    globalThis.detail = detail;
                    globalThis.dispatchEvent(new CustomEvent('message', { detail }));
                };
            })();
        </script>
    </body>
</html>
